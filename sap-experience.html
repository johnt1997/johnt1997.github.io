<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>John Tusha — SAP Treasury Experience</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;0,700;1,400&family=Outfit:wght@300;400;500;600;700&family=Fira+Code:wght@300;400;500&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}

:root {
  --bg: #060610;
  --bg-card: rgba(255,255,255,0.025);
  --border: rgba(255,255,255,0.06);
  --border-hover: rgba(100,180,255,0.15);
  --glow-blue: #4da6ff;
  --glow-emerald: #34d399;
  --glow-amber: #fbbf24;
  --glow-rose: #f472b6;
  --glow-violet: #a78bfa;
  --text: #dfe3ea;
  --text-dim: rgba(223,227,234,0.5);
  --text-muted: rgba(223,227,234,0.25);
  --font-display: 'Cormorant Garamond', Georgia, serif;
  --font-body: 'Outfit', sans-serif;
  --font-code: 'Fira Code', monospace;
}

html { scroll-behavior: smooth; }
body {
  font-family: var(--font-body);
  background: var(--bg);
  color: var(--text);
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
}

/* ── Ambient ── */
.ambient { position:fixed;inset:0;z-index:0;pointer-events:none;overflow:hidden; }
.ambient .orb { position:absolute;border-radius:50%;filter:blur(140px);animation:drift 22s ease-in-out infinite alternate; }
.ambient .orb:nth-child(1){ width:700px;height:700px;background:radial-gradient(circle,rgba(77,166,255,0.08),transparent 70%);top:-15%;left:-10%; }
.ambient .orb:nth-child(2){ width:500px;height:500px;background:radial-gradient(circle,rgba(52,211,153,0.06),transparent 70%);bottom:-10%;right:-5%;animation-delay:-8s; }
.ambient .orb:nth-child(3){ width:400px;height:400px;background:radial-gradient(circle,rgba(167,139,250,0.05),transparent 70%);top:40%;left:50%;animation-delay:-15s;animation-duration:28s; }
.ambient .orb:nth-child(4){ width:350px;height:350px;background:radial-gradient(circle,rgba(251,191,36,0.04),transparent 70%);top:70%;left:15%;animation-delay:-5s;animation-duration:32s; }
@keyframes drift{0%{transform:translate(0,0) scale(1)}33%{transform:translate(50px,-40px) scale(1.06)}66%{transform:translate(-30px,60px) scale(.94)}100%{transform:translate(40px,25px) scale(1.03)}}

.grain{position:fixed;inset:0;z-index:1;pointer-events:none;opacity:.03;
  background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  background-repeat:repeat;background-size:200px;}

/* ── Navigation ── */
.site-nav {
  position:fixed;top:0;left:0;right:0;z-index:100;
  padding:1.25rem 3rem;display:flex;align-items:center;justify-content:space-between;
  backdrop-filter:blur(20px) saturate(1.4);
  -webkit-backdrop-filter:blur(20px) saturate(1.4);
  background:rgba(6,6,16,0.7);
  border-bottom:1px solid var(--border);
  transition:background 0.4s;
}
.site-nav .logo{
  font-family:var(--font-display);font-size:1.3rem;font-weight:700;
  letter-spacing:-0.02em;
  background:linear-gradient(135deg,#7eb8f7,#c4a1f7);
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;
  background-clip:text;text-decoration:none;
}
.site-nav .nav-links{display:flex;gap:2.5rem;list-style:none;}
.site-nav .nav-links a{
  text-decoration:none;color:var(--text-dim);
  font-family:var(--font-body);
  font-size:.85rem;font-weight:500;letter-spacing:.06em;
  text-transform:uppercase;transition:color .3s;
  position:relative;
}
.site-nav .nav-links a::after{
  content:'';position:absolute;bottom:-4px;left:0;
  width:0;height:1.5px;
  background:linear-gradient(90deg,#7eb8f7,#c4a1f7);
  transition:width .3s ease;
}
.site-nav .nav-links a:hover{color:var(--text);}
.site-nav .nav-links a:hover::after{width:100%;}
.site-nav .nav-links a.active{color:#7eb8f7;}
.site-nav .nav-links a.active::after{width:100%;}
.nav-dropdown{position:relative;}
.nav-dropdown-menu{
  position:absolute;top:100%;left:50%;
  transform:translateX(-50%) translateY(16px);
  list-style:none;padding:.5rem 0;
  background:rgba(16,16,31,0.85);
  backdrop-filter:blur(20px);
  border:1px solid rgba(255,255,255,0.08);
  border-radius:12px;min-width:180px;
  opacity:0;pointer-events:none;
  transition:opacity .3s,transform .3s;
}
.nav-dropdown-menu::before{
  content:'';position:absolute;top:-12px;left:0;right:0;height:12px;
}
.nav-dropdown:hover .nav-dropdown-menu{
  opacity:1;pointer-events:auto;
  transform:translateX(-50%) translateY(8px);
}
.nav-dropdown-menu a{
  display:block;padding:.5rem 1.2rem;
  font-size:.82rem;text-transform:none;
  letter-spacing:.02em;
}
.nav-dropdown-menu a:hover{
  background:rgba(126,184,247,0.08);
}

/* ── Layout ── */
.content{position:relative;z-index:2;max-width:1200px;margin:0 auto;padding:7rem 2rem 4rem;}

/* ── Hero ── */
.hero{text-align:center;margin-bottom:5rem;opacity:0;transform:translateY(30px);animation:fadeUp .8s ease forwards .2s;}
.hero .eyebrow{font-family:var(--font-code);font-size:.7rem;font-weight:300;letter-spacing:.25em;text-transform:uppercase;color:var(--glow-emerald);margin-bottom:1.5rem;display:inline-flex;align-items:center;gap:.8rem;}
.hero .eyebrow::before,.hero .eyebrow::after{content:'';width:40px;height:1px;background:linear-gradient(90deg,transparent,var(--glow-emerald));}
.hero .eyebrow::after{background:linear-gradient(90deg,var(--glow-emerald),transparent);}
.hero h1{font-family:var(--font-display);font-size:clamp(2.8rem,5.5vw,4.5rem);font-weight:700;line-height:1.1;letter-spacing:-.02em;margin-bottom:1.2rem;}
.hero h1 .accent{font-style:italic;background:linear-gradient(135deg,var(--glow-blue),var(--glow-emerald));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;}
.hero p{font-size:1.05rem;color:var(--text-dim);max-width:680px;margin:0 auto;line-height:1.7;}

@keyframes fadeUp{to{opacity:1;transform:translateY(0)}}

/* ── Stats bar ── */
.stats-bar{display:grid;grid-template-columns:repeat(4,1fr);gap:1.5rem;margin-bottom:5rem;opacity:0;animation:fadeUp .7s ease forwards .4s;}
.stat-item{text-align:center;padding:1.8rem 1rem;background:var(--bg-card);border:1px solid var(--border);border-radius:16px;backdrop-filter:blur(20px);transition:border-color .4s,transform .4s;}
.stat-item:hover{border-color:var(--border-hover);transform:translateY(-3px);}
.stat-item .number{font-family:var(--font-display);font-size:2.2rem;font-weight:700;line-height:1;margin-bottom:.4rem;}
.stat-item:nth-child(1) .number{color:var(--glow-blue);}
.stat-item:nth-child(2) .number{color:var(--glow-emerald);}
.stat-item:nth-child(3) .number{color:var(--glow-amber);}
.stat-item:nth-child(4) .number{color:var(--glow-violet);}
.stat-item .label{font-size:.72rem;font-weight:400;letter-spacing:.1em;text-transform:uppercase;color:var(--text-muted);}

/* ── Section titles ── */
.section-title{text-align:center;margin-bottom:3.5rem;opacity:0;animation:fadeUp .7s ease forwards;}
.section-title h2{font-family:var(--font-display);font-size:clamp(1.8rem,3.5vw,2.8rem);font-weight:700;margin-bottom:.6rem;}
.section-title p{color:var(--text-dim);font-size:.95rem;max-width:500px;margin:0 auto;}

/* ── Project cards ── */
.projects-grid{display:grid;gap:2rem;margin-bottom:5rem;}
.project-card{
  position:relative;background:var(--bg-card);border:1px solid var(--border);
  border-radius:20px;overflow:hidden;
  backdrop-filter:blur(25px);
  transition:transform .5s cubic-bezier(.23,1,.32,1),border-color .4s,box-shadow .4s;
  opacity:0;transform:translateY(40px);
}
.project-card.visible{animation:fadeUp .7s ease forwards;}
.project-card:hover{transform:translateY(-5px);border-color:var(--border-hover);box-shadow:0 25px 60px -15px rgba(0,0,0,.5);}
.project-card .shimmer{position:absolute;inset:0;z-index:0;background:radial-gradient(600px circle at var(--mx,50%) var(--my,50%),rgba(77,166,255,0.04),transparent 40%);opacity:0;transition:opacity .5s;pointer-events:none;}
.project-card:hover .shimmer{opacity:1;}
.project-card::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.08),transparent);}
.card-body{position:relative;z-index:1;padding:2.5rem 2.8rem;}

/* Card header */
.card-header{display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:1.8rem;gap:1.5rem;}
.card-header .icon-wrap{width:52px;height:52px;border-radius:14px;display:flex;align-items:center;justify-content:center;flex-shrink:0;border:1px solid var(--border);}
.card-header .icon-wrap svg{width:24px;height:24px;}
.card-header .meta{flex:1;}
.card-header h3{font-family:var(--font-display);font-size:1.6rem;font-weight:700;line-height:1.25;margin-bottom:.4rem;}
.card-header .subtitle{font-size:.82rem;color:var(--text-dim);line-height:1.5;}
.impact-badge{display:inline-flex;align-items:center;gap:.35rem;font-family:var(--font-code);font-size:.65rem;letter-spacing:.08em;text-transform:uppercase;padding:.3rem .8rem;border-radius:100px;border:1px solid;flex-shrink:0;margin-top:.3rem;}
.impact-badge.high{border-color:rgba(52,211,153,0.3);color:var(--glow-emerald);background:rgba(52,211,153,0.06);}
.impact-badge.critical{border-color:rgba(251,191,36,0.3);color:var(--glow-amber);background:rgba(251,191,36,0.06);}
.impact-badge.complex{border-color:rgba(167,139,250,0.3);color:var(--glow-violet);background:rgba(167,139,250,0.06);}

/* Description */
.card-desc{font-size:.9rem;line-height:1.75;color:var(--text-dim);margin-bottom:1.8rem;}

/* Detail grid */
.detail-grid{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1.8rem;}
.detail-item{padding:1rem 1.2rem;background:rgba(255,255,255,0.015);border:1px solid rgba(255,255,255,0.04);border-radius:12px;}
.detail-item .d-label{font-family:var(--font-code);font-size:.62rem;letter-spacing:.12em;text-transform:uppercase;color:var(--text-muted);margin-bottom:.3rem;}
.detail-item .d-value{font-size:.85rem;font-weight:500;}

/* Code block */
.code-block{position:relative;background:rgba(0,0,0,0.35);border:1px solid rgba(255,255,255,0.05);border-radius:14px;overflow:hidden;margin-bottom:1.8rem;}
.code-header{display:flex;align-items:center;justify-content:space-between;padding:.7rem 1.2rem;background:rgba(255,255,255,0.02);border-bottom:1px solid rgba(255,255,255,0.04);}
.code-header .lang{font-family:var(--font-code);font-size:.65rem;letter-spacing:.1em;text-transform:uppercase;color:var(--text-muted);}
.code-header .dots{display:flex;gap:5px;}
.code-header .dots span{width:8px;height:8px;border-radius:50%;background:rgba(255,255,255,0.08);}
.code-header .dots span:first-child{background:rgba(255,82,82,0.5);}
.code-header .dots span:nth-child(2){background:rgba(251,191,36,0.5);}
.code-header .dots span:nth-child(3){background:rgba(52,211,153,0.5);}
.code-content{padding:1.2rem 1.5rem;overflow-x:auto;}
.code-content pre{font-family:var(--font-code);font-size:.75rem;line-height:1.8;color:var(--text-dim);white-space:pre;}
.code-content .kw{color:var(--glow-blue);}
.code-content .fn{color:var(--glow-emerald);}
.code-content .str{color:var(--glow-amber);}
.code-content .cm{color:rgba(255,255,255,0.2);font-style:italic;}
.code-content .num{color:var(--glow-rose);}
.code-content .typ{color:var(--glow-violet);}

/* Flow diagram */
.flow-diagram{display:flex;align-items:center;gap:.6rem;flex-wrap:wrap;margin-bottom:1.8rem;padding:1.2rem;background:rgba(255,255,255,0.015);border:1px solid rgba(255,255,255,0.04);border-radius:14px;}
.flow-step{padding:.45rem .9rem;border-radius:8px;font-size:.72rem;font-weight:500;white-space:nowrap;}
.flow-step.data{background:rgba(77,166,255,0.1);border:1px solid rgba(77,166,255,0.2);color:var(--glow-blue);}
.flow-step.process{background:rgba(52,211,153,0.1);border:1px solid rgba(52,211,153,0.2);color:var(--glow-emerald);}
.flow-step.output{background:rgba(251,191,36,0.1);border:1px solid rgba(251,191,36,0.2);color:var(--glow-amber);}
.flow-step.db{background:rgba(167,139,250,0.1);border:1px solid rgba(167,139,250,0.2);color:var(--glow-violet);}
.flow-arrow{color:var(--text-muted);font-size:.75rem;}

/* Tags */
.tags{display:flex;flex-wrap:wrap;gap:.45rem;}
.tag{font-size:.68rem;font-weight:500;letter-spacing:.03em;padding:.28rem .7rem;border-radius:100px;background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.06);color:var(--text-dim);transition:all .3s;}
.tag:hover{border-color:rgba(77,166,255,0.25);color:var(--glow-blue);background:rgba(77,166,255,0.04);}

/* ── SAP Simulation ── */
.sap-sim{margin-bottom:5rem;opacity:0;animation:fadeUp .7s ease forwards;}
.sap-window{background:rgba(255,255,255,0.02);border:1px solid var(--border);border-radius:16px;overflow:hidden;}
.sap-titlebar{display:flex;align-items:center;justify-content:space-between;padding:.6rem 1.2rem;background:rgba(0,40,100,0.25);border-bottom:1px solid rgba(77,166,255,0.15);}
.sap-titlebar span{font-family:var(--font-code);font-size:.7rem;letter-spacing:.08em;color:var(--glow-blue);}
.sap-toolbar{display:flex;gap:.5rem;padding:.5rem 1rem;background:rgba(0,0,0,0.2);border-bottom:1px solid rgba(255,255,255,0.04);}
.sap-btn{padding:.3rem .7rem;font-family:var(--font-code);font-size:.62rem;border-radius:4px;background:rgba(255,255,255,0.04);border:1px solid rgba(255,255,255,0.08);color:var(--text-dim);cursor:pointer;transition:all .2s;}
.sap-btn:hover{background:rgba(77,166,255,0.1);border-color:rgba(77,166,255,0.3);color:var(--glow-blue);}
.sap-btn.active{background:rgba(52,211,153,0.1);border-color:rgba(52,211,153,0.3);color:var(--glow-emerald);}
.sap-grid{overflow-x:auto;}
.sap-grid table{width:100%;border-collapse:collapse;font-family:var(--font-code);font-size:.72rem;}
.sap-grid th{padding:.55rem .8rem;text-align:left;background:rgba(0,0,0,0.3);color:var(--text-dim);font-weight:500;letter-spacing:.05em;text-transform:uppercase;border-bottom:1px solid rgba(255,255,255,0.06);white-space:nowrap;}
.sap-grid td{padding:.5rem .8rem;border-bottom:1px solid rgba(255,255,255,0.02);color:var(--text-dim);white-space:nowrap;}
.sap-grid tr:hover td{background:rgba(77,166,255,0.03);}
.sap-grid .stage1{color:var(--glow-emerald);}
.sap-grid .stage2{color:var(--glow-amber);}
.sap-grid .stage3{color:var(--glow-rose);}
.sap-grid .num-cell{text-align:right;font-variant-numeric:tabular-nums;}
.sap-grid .highlight-row td{background:rgba(244,114,182,0.04);border-left:2px solid var(--glow-rose);}
.sap-status{padding:.6rem 1rem;display:flex;justify-content:space-between;align-items:center;background:rgba(0,0,0,0.15);border-top:1px solid rgba(255,255,255,0.04);}
.sap-status span{font-family:var(--font-code);font-size:.62rem;color:var(--text-muted);}
.sap-status .ready{color:var(--glow-emerald);}

/* ── Financial viz ── */
.finance-viz{margin-bottom:5rem;opacity:0;animation:fadeUp .7s ease forwards;}
.viz-container{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;}
.viz-card{background:var(--bg-card);border:1px solid var(--border);border-radius:16px;padding:1.8rem;backdrop-filter:blur(20px);}
.viz-card h4{font-family:var(--font-display);font-size:1.1rem;font-weight:600;margin-bottom:1.2rem;}
.bar-chart{display:flex;flex-direction:column;gap:.6rem;}
.bar-row{display:flex;align-items:center;gap:.8rem;}
.bar-label{font-size:.7rem;color:var(--text-dim);width:60px;text-align:right;flex-shrink:0;}
.bar-track{flex:1;height:24px;background:rgba(255,255,255,0.03);border-radius:6px;overflow:hidden;position:relative;}
.bar-fill{height:100%;border-radius:6px;transition:width 1.5s cubic-bezier(.23,1,.32,1);display:flex;align-items:center;justify-content:flex-end;padding-right:.6rem;font-family:var(--font-code);font-size:.62rem;color:rgba(0,0,0,0.6);font-weight:600;}
.bar-fill.blue{background:linear-gradient(90deg,rgba(77,166,255,0.3),var(--glow-blue));}
.bar-fill.green{background:linear-gradient(90deg,rgba(52,211,153,0.3),var(--glow-emerald));}
.bar-fill.amber{background:linear-gradient(90deg,rgba(251,191,36,0.3),var(--glow-amber));}
.bar-fill.rose{background:linear-gradient(90deg,rgba(244,114,182,0.3),var(--glow-rose));}
.bar-fill.violet{background:linear-gradient(90deg,rgba(167,139,250,0.3),var(--glow-violet));}

/* Reconciliation viz */
.recon-flow{display:flex;flex-direction:column;gap:1rem;}
.recon-row{display:flex;align-items:center;gap:.8rem;padding:.8rem 1rem;background:rgba(255,255,255,0.015);border-radius:10px;border:1px solid rgba(255,255,255,0.04);}
.recon-row .book{flex:1;text-align:center;}
.recon-row .book .book-label{font-size:.6rem;letter-spacing:.1em;text-transform:uppercase;color:var(--text-muted);margin-bottom:.2rem;}
.recon-row .book .book-val{font-family:var(--font-code);font-size:.82rem;font-weight:500;}
.recon-row .vs{color:var(--text-muted);font-size:.7rem;flex-shrink:0;}
.recon-row .diff{font-family:var(--font-code);font-size:.75rem;font-weight:600;flex-shrink:0;width:80px;text-align:right;}
.recon-row .diff.ok{color:var(--glow-emerald);}
.recon-row .diff.warn{color:var(--glow-amber);}
.recon-row .diff.bad{color:var(--glow-rose);}

/* ── Divider ── */
.divider{text-align:center;margin:4rem 0 3rem;}
.divider span{font-family:var(--font-code);font-size:.68rem;letter-spacing:.2em;text-transform:uppercase;color:var(--text-muted);display:inline-flex;align-items:center;gap:1rem;}
.divider span::before,.divider span::after{content:'';width:60px;height:1px;background:linear-gradient(90deg,transparent,var(--border));}
.divider span::after{background:linear-gradient(90deg,var(--border),transparent);}

/* ── Footer ── */
footer{position:relative;z-index:2;text-align:center;padding:3rem 2rem 2rem;border-top:1px solid var(--border);max-width:1200px;margin:3rem auto 0;}
footer p{font-size:.75rem;color:var(--text-muted);font-family:var(--font-code);letter-spacing:.05em;}

/* ── Responsive ── */
@media(max-width:900px){
  .stats-bar{grid-template-columns:repeat(2,1fr);}
  .detail-grid{grid-template-columns:1fr;}
  .viz-container{grid-template-columns:1fr;}
  .site-nav{padding:1rem 1.5rem;}
  .site-nav .nav-links{gap:1.5rem;}
  .site-nav .nav-links a{font-size:.75rem;}
  .card-body{padding:1.8rem 1.5rem;}
}
@media(max-width:600px){
  .stats-bar{grid-template-columns:1fr 1fr;}
  .hero h1{font-size:2.2rem;}
  .card-header{flex-direction:column;}
  .flow-diagram{justify-content:center;}
}
</style>
</head>
<body>

<div class="ambient"><div class="orb"></div><div class="orb"></div><div class="orb"></div><div class="orb"></div></div>
<div class="grain"></div>

<nav class="site-nav">
  <a href="index.html" class="logo">John Tusha</a>
  <ul class="nav-links">
    <li><a href="index.html#about">About</a></li>
    <li><a href="index.html#papers">Papers</a></li>
    <li><a href="sap-experience.html" class="active">SAP Experience</a></li>
    <li class="nav-dropdown">
      <a href="#">Projects</a>
      <ul class="nav-dropdown-menu">
        <li><a href="project1.html">Guinness Rater</a></li>
        <li><a href="project2.html">Flight Scraper</a></li>
        <li><a href="project3.html">ALiVE Chatbot</a></li>
        <li><a href="project4.html">Instagram Unliker</a></li>
      </ul>
    </li>
    <li><a href="index.html#contact">Contact</a></li>
  </ul>
</nav>

<div class="content">

  <!-- Hero -->
  <section class="hero">
    <div class="eyebrow">SAP Treasury Management · Banking Compliance</div>
    <h1>Building <span class="accent">Financial Infrastructure</span> in ABAP</h1>
    <p>Nearly 4 years developing regulatory reporting systems, automated financial calculations, and treasury management solutions for Austrian banking institutions.</p>
  </section>

  <!-- Stats -->
  <section class="stats-bar">
    <div class="stat-item"><div class="number">~4</div><div class="label">Years SAP Experience</div></div>
    <div class="stat-item"><div class="number">50+</div><div class="label">CDS Views Migrated</div></div>
    <div class="stat-item"><div class="number">IFRS 9</div><div class="label">Regulatory Framework</div></div>
    <div class="stat-item"><div class="number">€M+</div><div class="label">Transaction Volumes</div></div>
  </section>

  <!-- Projects -->
  <section class="section-title" style="animation-delay:.5s;">
    <h2>Key Projects</h2>
    <p>Complex financial systems from concept to production</p>
  </section>

  <div class="projects-grid">

    <!-- 1: Unwinding -->
    <article class="project-card" onmousemove="updateShimmer(event,this)" onmouseleave="resetShimmer(this)">
      <div class="shimmer"></div>
      <div class="card-body">
        <div class="card-header">
          <div class="meta">
            <h3>IFRS 9 Unwinding — Stage 3 Automation</h3>
            <div class="subtitle">Automated monthly interest accrual on non-performing loan provisions, replacing manual Excel workflows</div>
          </div>
          <span class="impact-badge critical">High Impact</span>
        </div>
        <div class="card-desc">
          Under IFRS 9, banks must accrue interest on Stage 3 (non-performing) loan provisions monthly — the "unwinding" of expected credit losses. This was previously a manual process: export data from SAP, calculate in Excel, manually post journal entries. I designed and built a fully automated solution that hooks into the existing IAS download architecture, computes unwinding amounts using effective interest rates, determines reference dates through a three-tier fallback system, and generates booking entries automatically.
        </div>

        <div class="flow-diagram">
          <span class="flow-step data">FLD Table (Stage 3)</span>
          <span class="flow-arrow">→</span>
          <span class="flow-step process">Reference Date Logic</span>
          <span class="flow-arrow">→</span>
          <span class="flow-step process">EWB × EffZins / Basis × Days</span>
          <span class="flow-arrow">→</span>
          <span class="flow-step output">IAS Download</span>
          <span class="flow-arrow">→</span>
          <span class="flow-step db">Automated Postings</span>
        </div>

        <div class="code-block">
          <div class="code-header">
            <div class="dots"><span></span><span></span><span></span></div>
            <span class="lang">ABAP OO — calculate_unwinding_stage3</span>
          </div>
          <div class="code-content"><pre><span class="kw">METHOD</span> <span class="fn">calculate_unwinding_stage3</span>.
  <span class="cm">" Step 1: Only Stage 3 loans qualify</span>
  <span class="kw">IF</span> ls_fld-imp_stage <span class="kw">&lt;&gt;</span> <span class="str">'3'</span>.
    <span class="kw">RETURN</span>.
  <span class="kw">ENDIF</span>.

  <span class="cm">" Step 2: Three-tier reference date determination</span>
  <span class="cm">"   1) Last unwinding posting date</span>
  <span class="cm">"   2) Last activated reporting date</span>
  <span class="cm">"   3) Previous year-end (31.12.YYYY-1)</span>
  lv_referenz_datum = <span class="fn">determine_reference_date</span>( ).

  <span class="cm">" Step 3: Get EWB + effective interest from ref date</span>
  lv_ewb_betr  = ls_fld_ref-ewb_betr.      <span class="cm">" e.g. 1,392,633 EUR</span>
  lv_eff_zins  = ls_fld_ref-eff_sim_ausz.   <span class="cm">" e.g. 8.289%</span>
  lv_basis     = <span class="fn">get_interest_basis</span>( lv_szbmeth ). <span class="cm">" 360 or 365</span>
  lv_tage      = <span class="fn">get_days_in_month</span>( co_stidat ).  <span class="cm">" e.g. 30</span>

  <span class="cm">" Step 4: Core calculation</span>
  rv_unwinding = lv_ewb_betr <span class="kw">*</span> lv_eff_zins <span class="kw">/</span> <span class="num">100</span>
               <span class="kw">/</span> lv_basis <span class="kw">*</span> lv_tage. <span class="cm">" → 9,637.04 EUR</span>
<span class="kw">ENDMETHOD</span>.</pre>
          </div>
        </div>

        <div class="detail-grid">
          <div class="detail-item"><div class="d-label">Before</div><div class="d-value">1.5 hrs/month manual Excel work</div></div>
          <div class="detail-item"><div class="d-label">After</div><div class="d-value">5 min automated, zero errors</div></div>
          <div class="detail-item"><div class="d-label">Architecture</div><div class="d-value">ABAP OO, IAS Download Framework</div></div>
          <div class="detail-item"><div class="d-label">Complexity</div><div class="d-value">Dual-entity (KA + Altor), multi-currency</div></div>
        </div>

        <div class="tags">
          <span class="tag">IFRS 9</span><span class="tag">Stage 3 NPL</span><span class="tag">Effective Interest</span><span class="tag">ABAP OO</span><span class="tag">Automation</span>
        </div>
      </div>
    </article>

    <!-- 2: CoRep/FinRep CDS Migration -->
    <article class="project-card" onmousemove="updateShimmer(event,this)" onmouseleave="resetShimmer(this)">
      <div class="shimmer"></div>
      <div class="card-body">
        <div class="card-header">
          <div class="meta">
            <h3>CoRep / FinRep — CDS View Migration</h3>
            <div class="subtitle">Migrating EU regulatory banking reports from legacy ABAP classes to modern SAP HANA CDS views</div>
          </div>
          <span class="impact-badge complex">Complex</span>
        </div>
        <div class="card-desc">
          EU banks must submit standardized reports to supervisory authorities: CoRep (Common Reporting) for capital adequacy and risk, FinRep (Financial Reporting) for financial statements. The existing system used deeply nested ABAP class hierarchies with hundreds of methods — one per regulatory field. I systematically migrated this business logic into declarative CDS views, translating complex conditional logic across four instrument types (Loans, Securities, Funds, Interbank) while maintaining exact regulatory compliance with EBA and OeNB requirements.
        </div>

        <div class="code-block">
          <div class="code-header">
            <div class="dots"><span></span><span></span><span></span></div>
            <span class="lang">CDS View Entity — SA-CCR Field Mapping</span>
          </div>
          <div class="code-content"><pre><span class="kw">define view entity</span> <span class="fn">ZI_MW_IFRS_CALC_ATTR</span> <span class="kw">as select from</span> <span class="typ">zi_mw_ifrs_overview</span> <span class="kw">as</span> overview
  <span class="kw">left outer join</span> <span class="typ">zi_mw_ifrs_tzpa</span> <span class="kw">as</span> tzpa
    <span class="kw">on</span> tzpa.Gsart = overview.Gsart
{
  <span class="cm">// Asset/Liability indicator from TZPA (SAKTPAS + 1)</span>
  <span class="kw">case</span>
    <span class="kw">when</span> overview.IntTyp = <span class="str">'LOAN'</span> <span class="kw">or</span> overview.IntTyp = <span class="str">'IBAS'</span>
      <span class="kw">then</span> <span class="fn">coalesce</span>(tzpa.TypAlIndicator, <span class="num">2</span>)
    <span class="kw">else</span> <span class="num">1</span>
  <span class="kw">end</span> <span class="kw">as</span> TypAlIndicator,

  <span class="cm">// Central government equivalence (multi-source lookup)</span>
  <span class="kw">case</span>
    <span class="kw">when</span> overview.Partnr <span class="kw">in</span> (<span class="str">'3753'</span>,<span class="str">'12634'</span>,<span class="str">'16176'</span> <span class="cm">/*...*/</span>)
      <span class="kw">then</span> <span class="num">1</span>
    <span class="kw">when</span> zgp.ZZ_IND_SECTOR = <span class="str">'LAND'</span> <span class="kw">and</span> zgp.LAND1 = <span class="str">'AT'</span>
      <span class="kw">then</span> <span class="num">1</span>
    <span class="kw">else</span> <span class="fn">coalesce</span>(lkp.typ_central_gov_equiv, <span class="num">0</span>)
  <span class="kw">end</span> <span class="kw">as</span> TypCentralGovEquiv,
}</pre>
          </div>
        </div>

        <div class="detail-grid">
          <div class="detail-item"><div class="d-label">Scope</div><div class="d-value">50+ regulatory fields across 4 instrument types</div></div>
          <div class="detail-item"><div class="d-label">Architecture</div><div class="d-value">Layered CDS: Base → Composite → Consumption</div></div>
          <div class="detail-item"><div class="d-label">Performance</div><div class="d-value">DB-level pushdown on SAP HANA</div></div>
          <div class="detail-item"><div class="d-label">Compliance</div><div class="d-value">EBA / OeNB / SA-CCR regulations</div></div>
        </div>

        <div class="tags">
          <span class="tag">CoRep</span><span class="tag">FinRep</span><span class="tag">SA-CCR</span><span class="tag">CDS Views</span><span class="tag">SAP HANA</span><span class="tag">OeNB</span><span class="tag">EBA</span>
        </div>
      </div>
    </article>

    <!-- 3: HB/NB Reconciliation -->
    <article class="project-card" onmousemove="updateShimmer(event,this)" onmouseleave="resetShimmer(this)">
      <div class="shimmer"></div>
      <div class="card-body">
        <div class="card-header">
          <div class="meta">
            <h3>Main Ledger vs. Sub-Ledger Reconciliation</h3>
            <div class="subtitle">FX phantom difference analysis and automated reconciliation between general ledger (HB) and subsidiary ledger (NB)</div>
          </div>
          <span class="impact-badge high">High Impact</span>
        </div>
        <div class="card-desc">
          Banks need to reconcile their main ledger (Hauptbuch) with the sub-ledger (Nebenbuch/treasury system) — any mismatch is a red flag for auditors. The challenge: FX revaluation happens at account level in the main ledger, but the reconciliation runs at individual contract level, creating millions in "phantom differences" that aren't real. I engineered an FX effect calculation that computes a per-contract foreign exchange impact using weighted-average cost method, subtracts it from the reported difference, revealing only genuine discrepancies.
        </div>

        <div class="detail-grid">
          <div class="detail-item"><div class="d-label">Scale</div><div class="d-value">21,000+ line items, ~€15.8M phantom diffs</div></div>
          <div class="detail-item"><div class="d-label">Currencies</div><div class="d-value">CHF, USD, GBP, JPY, NOK, PLN + more</div></div>
          <div class="detail-item"><div class="d-label">Method</div><div class="d-value">Weighted-avg FX cost per contract</div></div>
          <div class="detail-item"><div class="d-label">Result</div><div class="d-value">Clean reconciliation, real diffs isolated</div></div>
        </div>

        <div class="tags">
          <span class="tag">Reconciliation</span><span class="tag">FX Valuation</span><span class="tag">ALV Reporting</span><span class="tag">ACDOCA/BSIS</span><span class="tag">Multi-Currency</span>
        </div>
      </div>
    </article>

    <!-- 4: PPA / Base Adjustment -->
    <article class="project-card" onmousemove="updateShimmer(event,this)" onmouseleave="resetShimmer(this)">
      <div class="shimmer"></div>
      <div class="card-body">
        <div class="card-header">
          <div class="meta">
            <h3>PPA & Portfolio Hedge Base Adjustments</h3>
            <div class="subtitle">Purchase Price Allocation amortization and base adjustment accruals for portfolio hedges</div>
          </div>
          <span class="impact-badge complex">Complex</span>
        </div>
        <div class="card-desc">
          When loan portfolios are hedged after origination, accounting requires a "base adjustment" to be accrued over the hedge's lifetime. I implemented the full lifecycle: a customizing table for hedge parameters, a reusable calculation class with linear accrual logic, integration into two separate posting frameworks (ORF and BOL), and proper account determination across multiple booking schemas. The same architecture also handles PPA (Purchase Price Allocation) entry corrections and amortization postings.
        </div>

        <div class="flow-diagram">
          <span class="flow-step db">Z6TAB_PFHDG_BAS_ADJ</span>
          <span class="flow-arrow">→</span>
          <span class="flow-step process">YTM2_CL_PFHDG_BAS_ADJ</span>
          <span class="flow-arrow">→</span>
          <span class="flow-step process">Linear Accrual</span>
          <span class="flow-arrow">→</span>
          <span class="flow-step output">ORF / BOL Postings</span>
          <span class="flow-arrow">→</span>
          <span class="flow-step data">KA_BILANZ / KA_BW_KTO</span>
        </div>

        <div class="detail-grid">
          <div class="detail-item"><div class="d-label">Instruments</div><div class="d-value">Interest rate swaps, ORF portfolio hedges</div></div>
          <div class="detail-item"><div class="d-label">Posting Schemas</div><div class="d-value">ORF_BAS_ADJ, PFH_BAS_ADJ (basis + accrual)</div></div>
          <div class="detail-item"><div class="d-label">Integration</div><div class="d-value">YTM2_CL_ORF_POST_VAL + BOL_POST_VAL</div></div>
          <div class="detail-item"><div class="d-label">Entities</div><div class="d-value">Altor (GES 0203) subsidiary-specific</div></div>
        </div>

        <div class="tags">
          <span class="tag">Hedge Accounting</span><span class="tag">PPA</span><span class="tag">Base Adjustment</span><span class="tag">Accrual</span><span class="tag">Derivatives</span>
        </div>
      </div>
    </article>

    <!-- 5: IAS Status Monitor -->
    <article class="project-card" onmousemove="updateShimmer(event,this)" onmouseleave="resetShimmer(this)">
      <div class="shimmer"></div>
      <div class="card-body">
        <div class="card-header">
          <div class="meta">
            <h3>IAS Status Monitor — Multi-BilArt Redesign</h3>
            <div class="subtitle">Overhauling the treasury period management UI from single-date to multi-accounting-type architecture</div>
          </div>
          <span class="impact-badge high">High Impact</span>
        </div>
        <div class="card-desc">
          The IAS Status Monitor controls the lifecycle of reporting periods in treasury — activation, cancellation, period closing, year-end postings. The original system supported one accounting standard per reporting date. I redesigned it to support multiple standards (IFRS, HGB, IFRS 9, UStG) simultaneously, with synchronized ALV displays, a helper class architecture for business operations, and proper state management across activation and cancellation workflows. This included migrating from table controls to modern ALV grids with event-driven updates.
        </div>

        <div class="detail-grid">
          <div class="detail-item"><div class="d-label">UI Pattern</div><div class="d-value">Dual-ALV with event-driven sync</div></div>
          <div class="detail-item"><div class="d-label">Operations</div><div class="d-value">Activate, Cancel, Period Close, Year-End</div></div>
          <div class="detail-item"><div class="d-label">Migration</div><div class="d-value">Table Control → ALV Grid, single → multi BilArt</div></div>
          <div class="detail-item"><div class="d-label">State Machine</div><div class="d-value">00 (New) → 01 (Closed) → 04 (Cancelled)</div></div>
        </div>

        <div class="tags">
          <span class="tag">Dynpro UI</span><span class="tag">ALV Grid</span><span class="tag">Event Handling</span><span class="tag">State Management</span><span class="tag">OO ABAP</span>
        </div>
      </div>
    </article>

  </div>

  <!-- SAP Simulation -->
  <div class="divider"><span>Live Data Simulation</span></div>

  <section class="section-title" style="animation-delay:.6s;">
    <h2>Inside the System</h2>
    <p>A simplified view of what treasury data looks like in SAP</p>
  </section>

  <section class="sap-sim" style="animation-delay:.7s;">
    <div class="sap-window">
      <div class="sap-titlebar">
        <span>◆ SAP Treasury — IFRS 9 Staging Overview</span>
        <span>Client 200 | User JTUSHA</span>
      </div>
      <div class="sap-toolbar">
        <button class="sap-btn active" onclick="filterTable('all')">All Stages</button>
        <button class="sap-btn" onclick="filterTable('1')">Stage 1</button>
        <button class="sap-btn" onclick="filterTable('2')">Stage 2</button>
        <button class="sap-btn" onclick="filterTable('3')">Stage 3</button>
      </div>
      <div class="sap-grid">
        <table id="sapTable">
          <thead>
            <tr>
              <th>Contract</th><th>Type</th><th>Currency</th><th style="text-align:right">Nominal</th>
              <th>Stage</th><th style="text-align:right">EWB Provision</th><th style="text-align:right">Eff. Rate</th>
              <th style="text-align:right">Unwinding</th><th>Status</th>
            </tr>
          </thead>
          <tbody>
            <tr data-stage="1"><td>115901</td><td>LOAN</td><td>EUR</td><td class="num-cell">2,500,000.00</td><td class="stage1">Stage 1</td><td class="num-cell">12,500.00</td><td class="num-cell">3.45%</td><td class="num-cell">—</td><td>Performing</td></tr>
            <tr data-stage="1"><td>116612</td><td>LOAN</td><td>CHF</td><td class="num-cell">5,000,000.00</td><td class="stage1">Stage 1</td><td class="num-cell">25,000.00</td><td class="num-cell">2.89%</td><td class="num-cell">—</td><td>Performing</td></tr>
            <tr data-stage="2"><td>116646</td><td>LOAN</td><td>CHF</td><td class="num-cell">3,826,666.67</td><td class="stage2">Stage 2</td><td class="num-cell">306,133.33</td><td class="num-cell">4.12%</td><td class="num-cell">—</td><td>Watch List</td></tr>
            <tr data-stage="2"><td>114329</td><td>LOAN</td><td>USD</td><td class="num-cell">8,200,000.00</td><td class="stage2">Stage 2</td><td class="num-cell">738,000.00</td><td class="num-cell">5.67%</td><td class="num-cell">—</td><td>Watch List</td></tr>
            <tr data-stage="3" class="highlight-row"><td>115513</td><td>LOAN</td><td>EUR</td><td class="num-cell">11,500,000.00</td><td class="stage3">Stage 3</td><td class="num-cell">1,392,633.00</td><td class="num-cell">8.29%</td><td class="num-cell">9,637.04</td><td>NPL — Unwinding</td></tr>
            <tr data-stage="3" class="highlight-row"><td>114865</td><td>LOAN</td><td>GBP</td><td class="num-cell">4,150,000.00</td><td class="stage3">Stage 3</td><td class="num-cell">830,000.00</td><td class="num-cell">6.75%</td><td class="num-cell">4,672.92</td><td>NPL — Unwinding</td></tr>
            <tr data-stage="1"><td>116292</td><td>LOAN</td><td>EUR</td><td class="num-cell">1,800,000.00</td><td class="stage1">Stage 1</td><td class="num-cell">9,000.00</td><td class="num-cell">3.10%</td><td class="num-cell">—</td><td>Performing</td></tr>
            <tr data-stage="3" class="highlight-row"><td>115652</td><td>LOAN</td><td>EUR</td><td class="num-cell">6,300,000.00</td><td class="stage3">Stage 3</td><td class="num-cell">945,000.00</td><td class="num-cell">7.15%</td><td class="num-cell">5,634.38</td><td>NPL — Interest-free</td></tr>
          </tbody>
        </table>
      </div>
      <div class="sap-status">
        <span>Reporting Date: 30.11.2025 | Entity: 0202 (KA)</span>
        <span class="ready">● System Ready</span>
      </div>
    </div>
  </section>

  <!-- Financial visualizations -->
  <section class="finance-viz" style="animation-delay:.8s;">
    <div class="viz-container">
      <div class="viz-card">
        <h4>Regulatory Reporting Scope</h4>
        <div class="bar-chart">
          <div class="bar-row"><span class="bar-label">CoRep</span><div class="bar-track"><div class="bar-fill blue" style="width:0" data-width="85%">50+ fields</div></div></div>
          <div class="bar-row"><span class="bar-label">FinRep</span><div class="bar-track"><div class="bar-fill green" style="width:0" data-width="70%">40+ fields</div></div></div>
          <div class="bar-row"><span class="bar-label">SA-CCR</span><div class="bar-track"><div class="bar-fill amber" style="width:0" data-width="60%">30+ fields</div></div></div>
          <div class="bar-row"><span class="bar-label">OeNB</span><div class="bar-track"><div class="bar-fill violet" style="width:0" data-width="45%">20+ fields</div></div></div>
          <div class="bar-row"><span class="bar-label">IAS</span><div class="bar-track"><div class="bar-fill rose" style="width:0" data-width="90%">Full system</div></div></div>
        </div>
      </div>
      <div class="viz-card">
        <h4>HB / NB Reconciliation (Sample)</h4>
        <div class="recon-flow">
          <div class="recon-row">
            <div class="book"><div class="book-label">Hauptbuch</div><div class="book-val" style="color:var(--glow-blue)">4,099,531.14</div></div>
            <span class="vs">vs</span>
            <div class="book"><div class="book-label">Nebenbuch</div><div class="book-val" style="color:var(--glow-emerald)">4,094,005.21</div></div>
            <div class="diff warn">Δ 5,525.93</div>
          </div>
          <div class="recon-row">
            <div class="book"><div class="book-label">FX Effect</div><div class="book-val" style="color:var(--glow-amber)">5,525.93</div></div>
            <span class="vs">−</span>
            <div class="book"><div class="book-label">Phantom Diff</div><div class="book-val" style="color:var(--text-dim)">5,525.93</div></div>
            <div class="diff ok">Δ 0.00 ✓</div>
          </div>
          <div class="recon-row">
            <div class="book"><div class="book-label">Real Diff</div><div class="book-val" style="color:var(--glow-emerald)">0.00 EUR</div></div>
            <span class="vs">=</span>
            <div class="book"><div class="book-label">Status</div><div class="book-val" style="color:var(--glow-emerald)">Reconciled ✓</div></div>
            <div class="diff ok">Clean</div>
          </div>
        </div>
      </div>
    </div>
  </section>

</div>

<footer>
  <p>&copy; 2025 John Tusha · SAP ABAP Developer · Vienna, Austria</p>
</footer>

<script>
// Shimmer
function updateShimmer(e,card){const r=card.getBoundingClientRect();card.style.setProperty('--mx',((e.clientX-r.left)/r.width*100)+'%');card.style.setProperty('--my',((e.clientY-r.top)/r.height*100)+'%');}
function resetShimmer(card){card.style.setProperty('--mx','50%');card.style.setProperty('--my','50%');}

// SAP table filter
function filterTable(stage){
  document.querySelectorAll('.sap-btn').forEach(b=>b.classList.remove('active'));
  event.target.classList.add('active');
  document.querySelectorAll('#sapTable tbody tr').forEach(row=>{
    row.style.display=(stage==='all'||row.dataset.stage===stage)?'':'none';
  });
}

// Scroll reveal
const observer=new IntersectionObserver(entries=>{
  entries.forEach(e=>{if(e.isIntersecting){e.target.classList.add('visible');
    // Animate bars
    e.target.querySelectorAll('.bar-fill').forEach((bar,i)=>{
      setTimeout(()=>{bar.style.width=bar.dataset.width;},i*150);
    });
  }});
},{threshold:.1});
document.querySelectorAll('.project-card,.sap-sim,.finance-viz').forEach(el=>observer.observe(el));
</script>

</body>
</html>
